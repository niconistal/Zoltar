package spectrumReader;

//import static org.junit.Assert.*;

import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.io.ObjectInputStream;
import java.util.ArrayList;

import Zoltar.ZoltarEngine;

//import org.junit.Test;

import utils2.ExecutionNode;
import utils2.MethodNode;

public class ActivatorTest {
	//@Test
	/**
	 * @param args
	 */
	public static void main (String[] args) {
	 ObjectInputStream objIn;
		ArrayList<ExecutionNode> trace  = new ArrayList<ExecutionNode>();
		ArrayList<String> errorList = new ArrayList<String>();
	//	assertTrue("Hello",4<2);
		try {
			String fileName = "Spectrum.data";
			// Read from disk using FileInputStream
			FileInputStream f_in = new 
				FileInputStream(fileName);

			objIn = new ObjectInputStream (f_in);

			// Read an object
			Object obj = objIn.readObject();
			@SuppressWarnings("unchecked")
			ArrayList<ExecutionNode> obj2 = (ArrayList<ExecutionNode>)obj;
			trace = obj2;
		} catch (FileNotFoundException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		} catch (ClassNotFoundException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		try {
			String fileName = "Failures.data";
			// Read from disk using FileInputStream
			FileInputStream f_in = new 
				FileInputStream(fileName);

			objIn = new ObjectInputStream (f_in);

			// Read an object
			Object obj = objIn.readObject();
			@SuppressWarnings("unchecked")
			ArrayList<String> obj2 = (ArrayList<String>)obj;
			errorList = obj2;
			
		} catch (FileNotFoundException e1) {
			// TODO Auto-generated catch block
			e1.printStackTrace();
		} catch (IOException e1) {
			// TODO Auto-generated catch block
			e1.printStackTrace();
		} catch (ClassNotFoundException e1) {
			// TODO Auto-generated catch block
			e1.printStackTrace();
		}
		for (ExecutionNode e : trace){
			System.out.println("una traza y se llama : " + e.getName());
		}
		for (String faulty : errorList){
			System.out.println("El error se llama: " + faulty) ;
		}
		ZoltarEngine theEngine = new ZoltarEngine();
		System.out.println(theEngine.getResult(trace, errorList));
		
	}

}
